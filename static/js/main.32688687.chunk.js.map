{"version":3,"sources":["components/header.jsx","components/perso.jsx","components/selectionPersos.jsx","components/detailsPersos.jsx","components/startFightModal.jsx","components/plateau.jsx","components/actions.jsx","components/fightOver.jsx","components/jeu.jsx","App.js","serviceWorker.js","index.js"],"names":["Header","react_default","a","createElement","style","textAlign","fontSize","Perso","avatarSrc","this","props","user","styles","avatarSelected","avatars","competitor","error","ready","name","_this$props","onChange","onSubmit","onClick","errorFr","errorManagmentFrench","clic","undefined","perso","id","className","htmlFor","disabled","value","type","placeholder","selectedAvatarStyle","src","alt","Component","border","borderRadius","padding","marginTop","height","marginBottom","titre","marginLeft","fontWeight","SelectionPersos","_ref","users","Fragment","display","justifyContent","DetailsPersos","tour","player","action","concat","weapon","damage","_this$props2","playerInGame","players","_this$props3","fight","avatar","points","move","result","StartFightModal","showStart","onHide","Modal_default","show","closeButton","Title","Body","Footer","Button_default","variant","size","plateau","width","margin","backgroundColor","brick","verticalAlign","obstacle","image","playerinGame","Plateau","bricks","length","map","key","content","Actions","onPass","onAction","role","FightOver","vainqueur","window","location","reload","Jeu","state","weaponsList","handlePass","_this$state","_this","togglePlayer","setState","handleAction","_this$state2","handleClose","handleShow","document","addEventListener","handleKeyDown","bind","forEach","position","Object","objectSpread","push","brickLoop","arrayOfItems","index","random","_","j","nextPosition","newWeapon","startFight","e","_this$state3","mouvement","items","includes","_this$state4","_this$state5","fightOver","detailsPersos","actions","startFightModal","schema","Joi","required","string","min","max","allow","App","handleSubmit","preventDefault","currentTarget","toConsumableArray","validateProperty","validate","abortEarly","details","message","handleChange","handleClick","userId","header","selectionPersos","jeu","Boolean","hostname","match","ReactDOM","render","src_App_0","getElementById","navigator","serviceWorker","then","registration","unregister"],"mappings":"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","file":"static/js/main.32688687.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Header = () => {\r\n  return (\r\n    <h1 style={{ textAlign: \"center\", fontSize: 40 }}>Jeux tour par tour</h1>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React, { Component } from \"react\";\r\n\r\nclass Perso extends Component {\r\n  selectedAvatarStyle(avatarSrc) {\r\n    return this.props.user.avatarSrc === \"http://localhost:3000/\" + avatarSrc\r\n      ? styles.avatarSelected\r\n      : styles.avatars;\r\n  }\r\n  errorManagmentFrench(user) {\r\n    const { competitor } = this.props;\r\n    if (user.error === '\"name\" length must be at least 3 characters long')\r\n      return \"Le nom doit être de 3 caractères minimum\";\r\n    if (\r\n      user.error ===\r\n      '\"name\" length must be less than or equal to 20 characters long'\r\n    )\r\n      return \"Le nom doit être de 20 caractères maximum\";\r\n    if (user.error === '\"name\" is not allowed to be empty')\r\n      return \"Le nom ne doit pas être vide\";\r\n    if (competitor.ready && user.name === competitor.name)\r\n      return \"Ce nom n'est pas disponible\";\r\n    if (competitor.ready && user.avatarSrc === competitor.avatarSrc)\r\n      return \"Avatar non disponible\";\r\n    return user.error;\r\n  }\r\n  render() {\r\n    const { onChange, onSubmit, onClick, user } = this.props;\r\n    // traduction des erreurs en français\r\n    const errorFr = this.errorManagmentFrench(user);\r\n    const clic = !user.ready ? onClick : undefined;\r\n    return (\r\n      <form style={styles.perso} name={user.id} onSubmit={onSubmit}>\r\n        <div className=\"form-group row\">\r\n          <label htmlFor=\"user\" className=\"col-sm-4 col-form-label\">\r\n            Votre nom :\r\n          </label>\r\n          <div className=\"col-sm-8\">\r\n            <input\r\n              disabled={user.ready ? true : false}\r\n              value={user.name}\r\n              onChange={onChange}\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"user\"\r\n              name={user.id}\r\n              placeholder=\"\"\r\n            />\r\n            {errorFr && errorFr !== \"init\" && (\r\n              <div\r\n                style={{ fontSize: 14 }}\r\n                className=\"alert alert-danger p-0 m-0\"\r\n              >\r\n                {errorFr}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"form-group row\">\r\n          <label className=\"col-sm-4 col-form-label\">Votre avatar :</label>\r\n          <div className=\"col-sm-8\">\r\n            <img\r\n              style={this.selectedAvatarStyle(\"avatars/001-girl.png\")}\r\n              src=\"./avatars/001-girl.png\"\r\n              alt=\"girl\"\r\n              onClick={clic}\r\n              name={user.id}\r\n            />\r\n            <img\r\n              style={this.selectedAvatarStyle(\"avatars/006-child-3.png\")}\r\n              src=\"avatars/006-child-3.png\"\r\n              alt=\"child3\"\r\n              onClick={clic}\r\n              name={user.id}\r\n            />\r\n            <img\r\n              style={this.selectedAvatarStyle(\"avatars/004-girl-1.png\")}\r\n              src=\"../avatars/004-girl-1.png\"\r\n              alt=\"girl1\"\r\n              onClick={clic}\r\n              name={user.id}\r\n            />\r\n            <img\r\n              style={this.selectedAvatarStyle(\"avatars/002-child.png\")}\r\n              src=\"avatars/002-child.png\"\r\n              alt=\"child2\"\r\n              onClick={clic}\r\n              name={user.id}\r\n            />\r\n            <img\r\n              style={this.selectedAvatarStyle(\"avatars/007-child-4.png\")}\r\n              src=\"avatars/007-child-4.png\"\r\n              alt=\"child4\"\r\n              onClick={clic}\r\n              name={user.id}\r\n            />\r\n          </div>\r\n        </div>\r\n        {!user.ready ? (\r\n          <button\r\n            disabled={errorFr === \"init\" ? true : errorFr}\r\n            type=\"submit\"\r\n            className=\"btn btn-primary btn-lg btn-block\"\r\n          >\r\n            Prêt\r\n          </button>\r\n        ) : (\r\n          <button className=\"btn btn-success btn-lg btn-block\">\r\n            Attente second joueur ...\r\n          </button>\r\n        )}\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = {\r\n  perso: {\r\n    border: \"3px solid black\",\r\n    borderRadius: 20,\r\n    padding: 15,\r\n    marginTop: 20\r\n  },\r\n  avatars: {\r\n    height: 50,\r\n    borderRadius: \"50%\",\r\n    marginBottom: 5\r\n  },\r\n  avatarSelected: {\r\n    height: 50,\r\n    borderRadius: \"50%\",\r\n    marginBottom: 5,\r\n    border: \"3px dashed black\"\r\n  }\r\n};\r\n\r\nexport default Perso;\r\n","import React from \"react\";\r\nimport Perso from \"./perso\";\r\n\r\nconst SelectionPersos = ({ onSubmit, onChange, onClick, users }) => {\r\n  return (\r\n    <React.Fragment>\r\n      <h2 style={styles.titre}>Choisissez vos personnages :</h2>\r\n      <div style={{ display: \"flex\", justifyContent: \"space-around\" }}>\r\n        <Perso\r\n          onSubmit={onSubmit}\r\n          onChange={onChange}\r\n          onClick={onClick}\r\n          user={users[0]}\r\n          competitor={users[1]}\r\n        />\r\n        <Perso\r\n          onSubmit={onSubmit}\r\n          onChange={onChange}\r\n          onClick={onClick}\r\n          user={users[1]}\r\n          competitor={users[0]}\r\n        />\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nconst styles = {\r\n  titre: { fontSize: 25, marginLeft: 20, marginTop: 25, fontWeight: \"normal\" }\r\n};\r\n\r\nexport default SelectionPersos;\r\n","import React, { Component } from \"react\";\r\n\r\nclass DetailsPersos extends Component {\r\n  result() {\r\n    const { tour, player, competitor } = this.props;\r\n    if (tour % 2 === 0) {\r\n      if (player.action === \"défend\" && competitor.action === \"défend\") {\r\n        return `${player.name} n'a pas perdu de points de vie`;\r\n      }\r\n      if (player.action === \"défend\" && competitor.action === \"attaque\") {\r\n        return `${player.name} a perdu ${competitor.weapon.damage /\r\n          2} points de vie`;\r\n      }\r\n      return `${player.name} a perdu ${competitor.weapon.damage} points de vie`;\r\n    }\r\n    return \"...\";\r\n  }\r\n  action() {\r\n    const { playerInGame, players, player, tour } = this.props;\r\n    if (players[playerInGame].name !== player.name || tour % 2 === 0)\r\n      return `${player.name} ${player.action}`;\r\n    return \"Attente action\";\r\n  }\r\n  render() {\r\n    const { player, fight } = this.props;\r\n    return (\r\n      <div style={styles.perso}>\r\n        <p>\r\n          <img alt=\"avatar\" src={player.avatarSrc} style={styles.avatar} />\r\n          <span>{player.name}</span>\r\n        </p>\r\n        <p>\r\n          Points de vie : <span>{player.points}</span>\r\n        </p>\r\n        {!fight && (\r\n          <p>\r\n            Mouvements restants : <span>{player.move}</span>\r\n          </p>\r\n        )}\r\n        <p>\r\n          Arme : <img alt=\"arme\" src={player.weapon.src} />\r\n          <span>\r\n            {player.weapon.name} (Dégats : {player.weapon.damage})\r\n          </span>\r\n        </p>\r\n        {fight && (\r\n          <React.Fragment>\r\n            {!player.action ? (\r\n              <div>\r\n                <p>Ici s'affichera l'action décidée par {player.name} </p>\r\n                <p>Ici le resultat de cette action</p>\r\n              </div>\r\n            ) : (\r\n              <div>\r\n                {<p>{this.action()}</p>}\r\n                <p>{this.result()}</p>\r\n              </div>\r\n            )}\r\n          </React.Fragment>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = {\r\n  perso: {\r\n    border: \"3px solid black\",\r\n    borderRadius: 20,\r\n    padding: \"25px 50px\",\r\n    marginTop: 20\r\n  },\r\n  avatar: {\r\n    height: 50,\r\n    borderRadius: \"50%\",\r\n    marginBottom: 5\r\n  }\r\n};\r\n\r\nexport default DetailsPersos;\r\n","import React from \"react\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\n\r\nconst StartFightModal = ({ showStart, onHide, player }) => {\r\n  return (\r\n    <Modal show={showStart} onHide={onHide}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Le combat va commencer !!!</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <p>\r\n          Les deux joueurs se sont rencontrés, ils vont donc devoir combatre\r\n        </p>\r\n        <p>Chacun choisit d'attaquer ou de defendre contre le prochain coup</p>\r\n        <p>\r\n          <span id=\"premierCombattant\">{player}</span> commence le combat\r\n        </p>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button variant=\"success\" size=\"lg\" onClick={onHide}>\r\n          C'est parti !\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default StartFightModal;\r\n","import React from \"react\";\r\n\r\nconst Plateau = ({ bricks, players, playerInGame }) => {\r\n  return (\r\n    <div style={styles.plateau}>\r\n      {bricks.length > 0 &&\r\n        bricks.map(brick => (\r\n          <p\r\n            key={brick.id}\r\n            style={\r\n              brick.content.type === \"obstacle\" ? styles.obstacle : styles.brick\r\n            }\r\n          >\r\n            {brick.content.type !== \"empty\" &&\r\n              brick.content.type !== \"obstacle\" && (\r\n                <img\r\n                  style={\r\n                    brick.content.name === players[playerInGame].name\r\n                      ? styles.playerinGame\r\n                      : styles.image\r\n                  }\r\n                  src={brick.content.src}\r\n                  alt=\"type\"\r\n                />\r\n              )}\r\n          </p>\r\n        ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst styles = {\r\n  plateau: {\r\n    height: 600,\r\n    width: 600,\r\n    padding: 0,\r\n    margin: \"0 auto\",\r\n    backgroundColor: \"green\",\r\n    fontSize: 0\r\n  },\r\n  brick: {\r\n    display: \"inline-block\",\r\n    width: 60,\r\n    height: 60,\r\n    margin: 0,\r\n    padding: 0,\r\n    backgroundColor: \"white\",\r\n    border: \"1px solid grey\",\r\n    verticalAlign: \"top\"\r\n  },\r\n  obstacle: {\r\n    display: \"inline-block\",\r\n    width: 60,\r\n    height: 60,\r\n    margin: 0,\r\n    padding: 0,\r\n    backgroundColor: \"black\",\r\n    border: \"1px solid grey\"\r\n  },\r\n  image: {\r\n    height: 50,\r\n    borderRadius: \"50%\",\r\n    marginTop: 3,\r\n    marginLeft: 3\r\n  },\r\n  playerinGame: {\r\n    height: 50,\r\n    borderRadius: \"50%\",\r\n    marginTop: 3,\r\n    marginLeft: 3,\r\n    backgroundColor: \"blue\"\r\n  }\r\n};\r\n\r\nexport default Plateau;\r\n","import React from \"react\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nconst Actions = ({ onPass, fight, onAction }) => {\r\n  return (\r\n    <div className=\"col-md-12 text-center\" style={{ marginBottom: 30 }}>\r\n      <div className=\"btn-group\" role=\"group\">\r\n        <Button variant=\"dark\" size=\"lg\" disabled={fight} onClick={onPass}>\r\n          Passer son tour\r\n        </Button>\r\n        <Button\r\n          variant=\"danger\"\r\n          size=\"lg\"\r\n          disabled={!fight}\r\n          onClick={() => onAction(\"attaque\")}\r\n        >\r\n          Attaquer\r\n        </Button>\r\n        <Button\r\n          variant=\"warning\"\r\n          size=\"lg\"\r\n          disabled={!fight}\r\n          onClick={() => onAction(\"défend\")}\r\n        >\r\n          Défendre\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Actions;\r\n","import React from \"react\";\r\n\r\nconst FightOver = ({ players }) => {\r\n  let vainqueur;\r\n  let avatar;\r\n  if (players[0].points > 0 && players[1].points <= 0) {\r\n    vainqueur = players[0].name;\r\n    avatar = players[0].avatarSrc;\r\n  } else if (players[1].points > 0 && players[0].points <= 0) {\r\n    vainqueur = players[1].name;\r\n    avatar = players[1].avatarSrc;\r\n  } else vainqueur = null;\r\n  return (\r\n    <div\r\n      className=\"container\"\r\n      style={{\r\n        backgroundColor: \"white\",\r\n        padding: 30,\r\n        marginTop: 30,\r\n        borderRadius: 25\r\n      }}\r\n    >\r\n      <div className=\"header\">\r\n        <h1 className=\"display-4\">Le combat est fini !!!</h1>\r\n      </div>\r\n      {!vainqueur ? (\r\n        <p>\r\n          Pas de vainqueur, les deux joueurs sont morts suite à leur derniere\r\n          attaque ...\r\n        </p>\r\n      ) : (\r\n        <React.Fragment>\r\n          <p>{vainqueur} a gagné le combat</p>\r\n          <p>\r\n            Bravo !<img alt=\"vainqueur\" src={avatar} />\r\n            <img alt=\"coupe\" src=\"armes/cup.png\" />\r\n          </p>\r\n        </React.Fragment>\r\n      )}\r\n      <div className=\"row\">\r\n        <div className=\"col-lg-12\">\r\n          <button\r\n            onClick={() => window.location.reload()}\r\n            className=\"btn btn-success btn-lg float-right\"\r\n          >\r\n            Rejouer\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FightOver;\r\n","import React, { Component } from \"react\";\r\nimport DetailsPersos from \"./detailsPersos\";\r\nimport StartFightModal from \"./startFightModal\";\r\nimport Plateau from \"./plateau\";\r\nimport Actions from \"./actions\";\r\nimport FightOver from \"./fightOver\";\r\nimport _ from \"lodash\";\r\n\r\nclass Jeu extends Component {\r\n  state = {\r\n    players: [],\r\n    bricks: [],\r\n    playerInGame: 0,\r\n    showStart: false,\r\n    fight: false,\r\n    tour: 0\r\n  };\r\n  weaponsList = [\r\n    {\r\n      src: \"http://localhost:3000/armes/shuriken.png\",\r\n      damage: 10,\r\n      name: \"shuriken\"\r\n    },\r\n    {\r\n      src: \"http://localhost:3000/armes/sword.png\",\r\n      damage: 15,\r\n      name: \"épée\"\r\n    },\r\n    {\r\n      src: \"http://localhost:3000/armes/nunchaku.png\",\r\n      damage: 15,\r\n      name: \"nunchaku\"\r\n    },\r\n    {\r\n      src: \"http://localhost:3000/armes/arrow.png\",\r\n      damage: 20,\r\n      name: \"arc\"\r\n    },\r\n    { src: \"http://localhost:3000/armes/bomb.png\", damage: 25, name: \"bombe\" }\r\n  ];\r\n  async componentDidMount() {\r\n    document.addEventListener(\"keydown\", this.handleKeyDown.bind(this));\r\n    const { users } = this.props;\r\n    const weaponsList = this.weaponsList;\r\n    const players = [];\r\n    users.forEach(user => {\r\n      const player = {\r\n        name: user.name,\r\n        avatarSrc: user.avatarSrc,\r\n        points: 100,\r\n        move: 3,\r\n        position: 0,\r\n        action: null,\r\n        weapon: { type: \"weapon\", ...weaponsList[0] }\r\n      };\r\n      players.push(player);\r\n    });\r\n    const bricks = await this.brickLoop();\r\n    const obstacles = this.arrayOfItems(bricks, 10);\r\n    obstacles.forEach(obstacle => (bricks[obstacle].content.type = \"obstacle\"));\r\n    const playersBricks = this.arrayOfItems(bricks, 2);\r\n    playersBricks.forEach((brick, index) => {\r\n      bricks[brick].content = {\r\n        type: \"player\",\r\n        name: players[index].name,\r\n        src: players[index].avatarSrc\r\n      };\r\n      players[index].position = brick;\r\n    });\r\n    const weapons = this.arrayOfItems(bricks, 7);\r\n    weapons.forEach(weapon => {\r\n      const random = _.random(1, 4);\r\n      bricks[weapon].content = weaponsList[random];\r\n      bricks[weapon].content.type = \"weapon\";\r\n    });\r\n    this.setState({\r\n      bricks,\r\n      players\r\n    });\r\n  }\r\n  brickLoop() {\r\n    const bricks = [];\r\n    for (let j = 0; j <= 99; j++) {\r\n      let brick = { id: j, content: { type: \"empty\", name: \"\" } };\r\n      bricks.push(brick);\r\n    }\r\n    return bricks;\r\n  }\r\n  mouvement(bricks, players, nextPosition, playerInGame) {\r\n    const position = players[playerInGame].position;\r\n    const content = bricks[position].content;\r\n    if (bricks[position + nextPosition]) {\r\n      if (bricks[position + nextPosition].content.type !== \"obstacle\") {\r\n        if (bricks[position + nextPosition].content.type === \"weapon\") {\r\n          const newWeapon = bricks[position + nextPosition].content;\r\n          bricks[position].content = players[playerInGame].weapon;\r\n          players[playerInGame].weapon = newWeapon;\r\n        } else {\r\n          bricks[position].content = { type: \"empty\" };\r\n        }\r\n        bricks[position + nextPosition].content = content;\r\n        players[playerInGame].position = position + nextPosition;\r\n        players[playerInGame].move--;\r\n      }\r\n    }\r\n    if (players[playerInGame].move === 0) {\r\n      players[playerInGame].move = 3;\r\n      playerInGame = playerInGame === 0 ? 1 : 0;\r\n    }\r\n    this.startFight();\r\n    this.setState({\r\n      bricks,\r\n      players,\r\n      playerInGame\r\n    });\r\n  }\r\n  startFight() {\r\n    const { players } = this.state;\r\n    if (\r\n      players[0].position === players[1].position + 1 ||\r\n      players[0].position === players[1].position - 1 ||\r\n      players[0].position === players[1].position - 10 ||\r\n      players[0].position === players[1].position + 10\r\n    ) {\r\n      players[0].move = 1;\r\n      players[1].move = 1;\r\n      this.handleShow();\r\n      this.setState({ fight: true, players });\r\n    }\r\n  }\r\n  handleKeyDown(e) {\r\n    const { players, bricks, playerInGame, fight } = this.state;\r\n    if (e.key === \"ArrowRight\" && !fight) {\r\n      this.mouvement(bricks, players, 1, playerInGame);\r\n    } else if (e.key === \"ArrowLeft\" && !fight) {\r\n      this.mouvement(bricks, players, -1, playerInGame);\r\n    } else if (e.key === \"ArrowUp\" && !fight) {\r\n      this.mouvement(bricks, players, -10, playerInGame);\r\n    } else if (e.key === \"ArrowDown\" && !fight) {\r\n      this.mouvement(bricks, players, 10, playerInGame);\r\n    }\r\n  }\r\n  arrayOfItems(bricks, length) {\r\n    let items = [];\r\n    while (items.length < length) {\r\n      const random = _.random(0, 99);\r\n      if (\r\n        !items.includes(random) &&\r\n        !items.includes(random - 1) &&\r\n        !items.includes(random + 1) &&\r\n        !items.includes(random - 10) &&\r\n        !items.includes(random + 10) &&\r\n        bricks[random].content.type === \"empty\"\r\n      )\r\n        items.push(random);\r\n    }\r\n    return items;\r\n  }\r\n  handlePass = () => {\r\n    let { playerInGame, players } = this.state;\r\n    players[playerInGame].move = 3;\r\n    this.togglePlayer();\r\n    this.setState({ players });\r\n  };\r\n  fight() {\r\n    let { players, tour, fight } = this.state;\r\n    // si impair, le tour est fini\r\n    if (tour % 2 === 1) {\r\n      if (players[0].action === \"attaque\" && players[1].action === \"attaque\") {\r\n        players[0].points -= players[1].weapon.damage;\r\n        players[1].points -= players[0].weapon.damage;\r\n      } else if (\r\n        players[0].action === \"attaque\" &&\r\n        players[1].action === \"défend\"\r\n      ) {\r\n        players[0].points -= players[1].weapon.damage;\r\n        players[1].points -= players[0].weapon.damage / 2;\r\n      } else if (\r\n        players[1].action === \"attaque\" &&\r\n        players[0].action === \"défend\"\r\n      ) {\r\n        players[1].points -= players[0].weapon.damage;\r\n        players[0].points -= players[1].weapon.damage / 2;\r\n      }\r\n    }\r\n\r\n    if (players[0].points < 1 || players[1].points < 1) {\r\n      fight = \"over\";\r\n    }\r\n    this.setState({ players, fight });\r\n  }\r\n  handleAction = action => {\r\n    let { players, playerInGame, tour } = this.state;\r\n    players[playerInGame].action = action;\r\n    tour++;\r\n    this.togglePlayer();\r\n    this.setState({\r\n      players,\r\n      tour\r\n    });\r\n    this.fight();\r\n  };\r\n  togglePlayer() {\r\n    let { playerInGame } = this.state;\r\n    if (playerInGame === 0) {\r\n      playerInGame = 1;\r\n    } else {\r\n      playerInGame = 0;\r\n    }\r\n    this.setState({\r\n      playerInGame\r\n    });\r\n  }\r\n  handleClose = () => {\r\n    this.setState({ showStart: false });\r\n  };\r\n  handleShow = () => {\r\n    this.setState({ showStart: true });\r\n  };\r\n  render() {\r\n    const { players, bricks, playerInGame, fight, tour } = this.state;\r\n    return (\r\n      <div>\r\n        {fight === \"over\" ? (\r\n          <FightOver players={players} />\r\n        ) : (\r\n          <div>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"space-around\",\r\n                marginBottom: 30\r\n              }}\r\n            >\r\n              {players.length > 0 && (\r\n                <React.Fragment>\r\n                  <DetailsPersos\r\n                    players={players}\r\n                    player={players[0]}\r\n                    competitor={players[1]}\r\n                    fight={fight}\r\n                    tour={tour}\r\n                    playerInGame={playerInGame}\r\n                  />\r\n                  <DetailsPersos\r\n                    players={players}\r\n                    player={players[1]}\r\n                    competitor={players[0]}\r\n                    fight={fight}\r\n                    tour={tour}\r\n                    playerInGame={playerInGame}\r\n                  />\r\n                </React.Fragment>\r\n              )}\r\n            </div>\r\n            <Actions\r\n              onPass={this.handlePass}\r\n              fight={fight}\r\n              onAction={this.handleAction}\r\n            />\r\n            {players.length > 0 && (\r\n              <Plateau\r\n                players={players}\r\n                bricks={bricks}\r\n                playerInGame={playerInGame}\r\n              />\r\n            )}\r\n            {players.length > 0 && (\r\n              <StartFightModal\r\n                showStart={this.state.showStart}\r\n                onHide={this.handleClose}\r\n                player={players[playerInGame].name}\r\n              />\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Jeu;\r\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport Header from \"./components/header\";\nimport SelectionPersos from \"./components/selectionPersos\";\nimport Jeu from \"./components/jeu\";\nimport Joi from \"@hapi/joi\";\n\nconst schema = {\n  id: Joi.required(),\n  name: Joi.string()\n    .min(3)\n    .max(20)\n    .required(),\n  avatarSrc: Joi.string().allow(\"\"),\n  ready: Joi.required()\n};\n\nclass App extends Component {\n  state = {\n    users: [\n      {\n        id: \"user1\",\n        name: \"\",\n        avatarSrc: \"http://localhost:3000/avatars/001-girl.png\",\n        error: \"init\",\n        ready: false\n      },\n      {\n        id: \"user2\",\n        name: \"\",\n        avatarSrc: \"http://localhost:3000/avatars/001-girl.png\",\n        error: \"init\",\n        ready: false\n      }\n    ]\n  };\n  handleSubmit = e => {\n    e.preventDefault();\n    const userId = e.currentTarget.name;\n    const index = userId === \"user1\" ? 0 : 1;\n    let users = [...this.state.users];\n    users[index].ready = true;\n    this.setState({ users });\n  };\n  validateProperty = user => {\n    delete user.error;\n    const { error } = Joi.validate(user, schema, { abortEarly: false });\n    return error ? error.details[0].message : error;\n  };\n  handleChange = e => {\n    const userId = e.currentTarget.name;\n    const index = userId === \"user1\" ? 0 : 1;\n    let users = [...this.state.users];\n    const name = e.currentTarget.value;\n    users[index].name = name;\n    const error = this.validateProperty(users[index]);\n    users[index].error = error;\n    this.setState({ users });\n  };\n  handleClick = e => {\n    const userId = e.currentTarget.name;\n    const avatarSrc = e.currentTarget.src;\n    let users = [...this.state.users];\n    users.map(user => {\n      if (user.id === userId) return (user.avatarSrc = avatarSrc);\n      return user;\n    });\n    this.setState({ users });\n  };\n  render() {\n    const { users } = this.state;\n    let ready = false;\n    if (users[0].ready && users[1].ready) {\n      ready = true;\n    }\n    return (\n      <div className=\"App\">\n        <Header />\n        {!ready && (\n          <SelectionPersos\n            users={users}\n            onSubmit={this.handleSubmit}\n            onChange={this.handleChange}\n            onClick={this.handleClick}\n          />\n        )}\n        {ready && <Jeu users={users} />}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport \"bootstrap/dist/css/bootstrap.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}